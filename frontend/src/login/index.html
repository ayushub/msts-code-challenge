<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Dispute Center Login</title>
    <link rel="stylesheet" href="../styles.css">
</head>

<body>

    <main>
        <h1>Login</h1>
        <form onsubmit="submitLoginForm(event)">
            <input type="text" id="user-id" placeholder="User ID"/>
            <input type="password" id="password" placeholder="Password" />
            <input type="submit" value="Sign In" />
        </form>
        <strong id="error-message"></strong>
    </main>

    <script src="../app.js"></script>
    <script>
        async function submitLoginForm(event)Â {

            event.preventDefault();

            const loginSuccessful =
                await authenticate({
                    username: document.getElementById('user-id').value,
                    password: document.getElementById('password').value,
                });

            if (!loginSuccessful) {
                document.getElementById('error-message').innerText = 'Login attempt failed.';
                return;
            }

            window.location = '/';
        }
    </script>
</body>

</html>